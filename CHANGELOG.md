# Changelog

## [v0.2.0](https://github.com/DEFRA/sroc-charging-module-api/tree/v0.2.0) (2021-02-19)

[Full Changelog](https://github.com/DEFRA/sroc-charging-module-api/compare/v0.1.0...v0.2.0)

**Implemented enhancements:**

- Initial Delete Invoice controller and endpoint [\#219](https://github.com/DEFRA/sroc-charging-module-api/pull/219) ([StuAA78](https://github.com/StuAA78))
- Error handling for rules service responses [\#215](https://github.com/DEFRA/sroc-charging-module-api/pull/215) ([StuAA78](https://github.com/StuAA78))
- Add stand-in view bill run transaction endpoint [\#211](https://github.com/DEFRA/sroc-charging-module-api/pull/211) ([Cruikshanks](https://github.com/Cruikshanks))
- Add view bill run endpoint using ViewBillRunService [\#209](https://github.com/DEFRA/sroc-charging-module-api/pull/209) ([StuAA78](https://github.com/StuAA78))
- Amend transactions and invoices tables [\#208](https://github.com/DEFRA/sroc-charging-module-api/pull/208) ([StuAA78](https://github.com/StuAA78))
- Add bill run ID to generate bill run time logging [\#206](https://github.com/DEFRA/sroc-charging-module-api/pull/206) ([Cruikshanks](https://github.com/Cruikshanks))
- Minimum charge invoice flag [\#205](https://github.com/DEFRA/sroc-charging-module-api/pull/205) ([StuAA78](https://github.com/StuAA78))
- Title case loss, season & source values in charge [\#202](https://github.com/DEFRA/sroc-charging-module-api/pull/202) ([Cruikshanks](https://github.com/Cruikshanks))
- Add test only bill run generator [\#199](https://github.com/DEFRA/sroc-charging-module-api/pull/199) ([Cruikshanks](https://github.com/Cruikshanks))
- Create View Bill Run Service [\#198](https://github.com/DEFRA/sroc-charging-module-api/pull/198) ([StuAA78](https://github.com/StuAA78))
- Validate water undertaker is boolean in charge [\#197](https://github.com/DEFRA/sroc-charging-module-api/pull/197) ([Cruikshanks](https://github.com/Cruikshanks))
- Output generate bill run timing [\#196](https://github.com/DEFRA/sroc-charging-module-api/pull/196) ([StuAA78](https://github.com/StuAA78))
- Hook bill run status service to controller [\#192](https://github.com/DEFRA/sroc-charging-module-api/pull/192) ([Cruikshanks](https://github.com/Cruikshanks))
- Add bill run status presenter [\#190](https://github.com/DEFRA/sroc-charging-module-api/pull/190) ([Cruikshanks](https://github.com/Cruikshanks))
- Add bill run status service [\#187](https://github.com/DEFRA/sroc-charging-module-api/pull/187) ([Cruikshanks](https://github.com/Cruikshanks))
- Add stand-in bill run /status endpoint [\#186](https://github.com/DEFRA/sroc-charging-module-api/pull/186) ([Cruikshanks](https://github.com/Cruikshanks))
- Generate bill run [\#181](https://github.com/DEFRA/sroc-charging-module-api/pull/181) ([StuAA78](https://github.com/StuAA78))
- Add minimum charge to generate bill run service [\#174](https://github.com/DEFRA/sroc-charging-module-api/pull/174) ([StuAA78](https://github.com/StuAA78))
- Add Database error plugin [\#172](https://github.com/DEFRA/sroc-charging-module-api/pull/172) ([Cruikshanks](https://github.com/Cruikshanks))
- Prevent duplicate transactions with clientID check [\#168](https://github.com/DEFRA/sroc-charging-module-api/pull/168) ([Cruikshanks](https://github.com/Cruikshanks))
- Calculate Minimum Charge Transaction service [\#164](https://github.com/DEFRA/sroc-charging-module-api/pull/164) ([StuAA78](https://github.com/StuAA78))
- Add trans. region must match bill run check [\#162](https://github.com/DEFRA/sroc-charging-module-api/pull/162) ([Cruikshanks](https://github.com/Cruikshanks))
- Add version info to responses plugin [\#157](https://github.com/DEFRA/sroc-charging-module-api/pull/157) ([Cruikshanks](https://github.com/Cruikshanks))
- Create Minimum Charge Adjustment service [\#156](https://github.com/DEFRA/sroc-charging-module-api/pull/156) ([StuAA78](https://github.com/StuAA78))
- Add git and docker tags to Docker image [\#155](https://github.com/DEFRA/sroc-charging-module-api/pull/155) ([Cruikshanks](https://github.com/Cruikshanks))
- Create Generate Bill Run Summary endpoint [\#151](https://github.com/DEFRA/sroc-charging-module-api/pull/151) ([StuAA78](https://github.com/StuAA78))
- Add summary to bill run service [\#147](https://github.com/DEFRA/sroc-charging-module-api/pull/147) ([StuAA78](https://github.com/StuAA78))
- Add licence model and service [\#146](https://github.com/DEFRA/sroc-charging-module-api/pull/146) ([StuAA78](https://github.com/StuAA78))
- Add bill run status check to add transaction [\#145](https://github.com/DEFRA/sroc-charging-module-api/pull/145) ([Cruikshanks](https://github.com/Cruikshanks))
- Alter transactions to use BigInts [\#141](https://github.com/DEFRA/sroc-charging-module-api/pull/141) ([Cruikshanks](https://github.com/Cruikshanks))
- Add invoice model and service [\#140](https://github.com/DEFRA/sroc-charging-module-api/pull/140) ([StuAA78](https://github.com/StuAA78))
- Add foreign key constraint to bill run id in trans [\#134](https://github.com/DEFRA/sroc-charging-module-api/pull/134) ([Cruikshanks](https://github.com/Cruikshanks))
- Link add transaction endpoint with service [\#131](https://github.com/DEFRA/sroc-charging-module-api/pull/131) ([Cruikshanks](https://github.com/Cruikshanks))
- Retain rules service response in translator [\#114](https://github.com/DEFRA/sroc-charging-module-api/pull/114) ([Cruikshanks](https://github.com/Cruikshanks))
- Allow access to validatedData in translators [\#108](https://github.com/DEFRA/sroc-charging-module-api/pull/108) ([Cruikshanks](https://github.com/Cruikshanks))
- Add create transaction service [\#107](https://github.com/DEFRA/sroc-charging-module-api/pull/107) ([Cruikshanks](https://github.com/Cruikshanks))
- Add create transaction presenter [\#106](https://github.com/DEFRA/sroc-charging-module-api/pull/106) ([Cruikshanks](https://github.com/Cruikshanks))

**Fixed bugs:**

- Fix docker build issues due to bill run generator [\#213](https://github.com/DEFRA/sroc-charging-module-api/pull/213) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix missing bill run to licence relationship [\#203](https://github.com/DEFRA/sroc-charging-module-api/pull/203) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix update of invoice for minimum charge [\#200](https://github.com/DEFRA/sroc-charging-module-api/pull/200) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix minimum charge issues in generate bill run [\#195](https://github.com/DEFRA/sroc-charging-module-api/pull/195) ([StuAA78](https://github.com/StuAA78))
- Fix Invoice deminimis query modifier [\#194](https://github.com/DEFRA/sroc-charging-module-api/pull/194) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix bill run generate request type \(PATCH vs POST\) [\#193](https://github.com/DEFRA/sroc-charging-module-api/pull/193) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix section126Factor in CalculateChargeTranslator [\#191](https://github.com/DEFRA/sroc-charging-module-api/pull/191) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix bill runs credit and invoice count column type [\#188](https://github.com/DEFRA/sroc-charging-module-api/pull/188) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix not requiring area/region code in transaction create [\#185](https://github.com/DEFRA/sroc-charging-module-api/pull/185) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix missing client Id in create transaction [\#184](https://github.com/DEFRA/sroc-charging-module-api/pull/184) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix incorrect transaction validation [\#183](https://github.com/DEFRA/sroc-charging-module-api/pull/183) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix admin requests to regime paths return 500 [\#182](https://github.com/DEFRA/sroc-charging-module-api/pull/182) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix waterundertaker validation on charge [\#180](https://github.com/DEFRA/sroc-charging-module-api/pull/180) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix Joi validations using US date format [\#170](https://github.com/DEFRA/sroc-charging-module-api/pull/170) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix ensure volume is required for charge and trans [\#169](https://github.com/DEFRA/sroc-charging-module-api/pull/169) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix 500 error when compensation charge set to true [\#166](https://github.com/DEFRA/sroc-charging-module-api/pull/166) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix create bill run returns 500 if region missing [\#163](https://github.com/DEFRA/sroc-charging-module-api/pull/163) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix missing knexfile.application.js to docker [\#154](https://github.com/DEFRA/sroc-charging-module-api/pull/154) ([Cruikshanks](https://github.com/Cruikshanks))
- Add default for status in bill run table [\#132](https://github.com/DEFRA/sroc-charging-module-api/pull/132) ([Cruikshanks](https://github.com/Cruikshanks))
- Revert making \_data enumerable in base translator [\#122](https://github.com/DEFRA/sroc-charging-module-api/pull/122) ([Cruikshanks](https://github.com/Cruikshanks))

**Merged pull requests:**

- Add seed run script to package.json [\#220](https://github.com/DEFRA/sroc-charging-module-api/pull/220) ([Cruikshanks](https://github.com/Cruikshanks))
- Make transaction tracking properties consistent [\#218](https://github.com/DEFRA/sroc-charging-module-api/pull/218) ([Cruikshanks](https://github.com/Cruikshanks))
- Remove pre-sroc \(ruleset\) from view bill run [\#217](https://github.com/DEFRA/sroc-charging-module-api/pull/217) ([Cruikshanks](https://github.com/Cruikshanks))
- Add system user seed [\#216](https://github.com/DEFRA/sroc-charging-module-api/pull/216) ([Cruikshanks](https://github.com/Cruikshanks))
- Add support for automated builds in Docker Hub [\#214](https://github.com/DEFRA/sroc-charging-module-api/pull/214) ([Cruikshanks](https://github.com/Cruikshanks))
- Allow period start to be same as period end date [\#210](https://github.com/DEFRA/sroc-charging-module-api/pull/210) ([Cruikshanks](https://github.com/Cruikshanks))
- Add error handling to GenerateBillRunService [\#207](https://github.com/DEFRA/sroc-charging-module-api/pull/207) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump @now-ims/hapi-now-auth from 2.0.2 to 2.0.3 [\#201](https://github.com/DEFRA/sroc-charging-module-api/pull/201) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump joi from 17.3.0 to 17.4.0 [\#189](https://github.com/DEFRA/sroc-charging-module-api/pull/189) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump knex from 0.21.16 to 0.21.17 [\#179](https://github.com/DEFRA/sroc-charging-module-api/pull/179) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump objection from 2.2.12 to 2.2.14 [\#178](https://github.com/DEFRA/sroc-charging-module-api/pull/178) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump nock from 13.0.6 to 13.0.7 [\#177](https://github.com/DEFRA/sroc-charging-module-api/pull/177) ([dependabot[bot]](https://github.com/apps/dependabot))
- Add uuid4 generator to test GeneralHelper [\#176](https://github.com/DEFRA/sroc-charging-module-api/pull/176) ([Cruikshanks](https://github.com/Cruikshanks))
- Add new test transaction helper [\#175](https://github.com/DEFRA/sroc-charging-module-api/pull/175) ([Cruikshanks](https://github.com/Cruikshanks))
- Refactor cloning in bill runs ctrlr test [\#173](https://github.com/DEFRA/sroc-charging-module-api/pull/173) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump objection from 2.2.11 to 2.2.12 [\#167](https://github.com/DEFRA/sroc-charging-module-api/pull/167) ([dependabot[bot]](https://github.com/apps/dependabot))
- Minimum charge database changes [\#165](https://github.com/DEFRA/sroc-charging-module-api/pull/165) ([StuAA78](https://github.com/StuAA78))
- Bump objection from 2.2.10 to 2.2.11 [\#161](https://github.com/DEFRA/sroc-charging-module-api/pull/161) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump @hapi/hapi from 20.0.3 to 20.1.0 [\#160](https://github.com/DEFRA/sroc-charging-module-api/pull/160) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump objection from 2.2.7 to 2.2.10 [\#159](https://github.com/DEFRA/sroc-charging-module-api/pull/159) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump sinon from 9.2.3 to 9.2.4 [\#158](https://github.com/DEFRA/sroc-charging-module-api/pull/158) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump nock from 13.0.5 to 13.0.6 [\#152](https://github.com/DEFRA/sroc-charging-module-api/pull/152) ([dependabot[bot]](https://github.com/apps/dependabot))
- Fix snake case fields in database [\#150](https://github.com/DEFRA/sroc-charging-module-api/pull/150) ([StuAA78](https://github.com/StuAA78))
- Bump knex from 0.21.15 to 0.21.16 [\#149](https://github.com/DEFRA/sroc-charging-module-api/pull/149) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump objection from 2.2.6 to 2.2.7 [\#148](https://github.com/DEFRA/sroc-charging-module-api/pull/148) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump objection from 2.2.5 to 2.2.6 [\#144](https://github.com/DEFRA/sroc-charging-module-api/pull/144) ([dependabot[bot]](https://github.com/apps/dependabot))
- Change some instances of ' use strict' to 'use strict' [\#143](https://github.com/DEFRA/sroc-charging-module-api/pull/143) ([StuAA78](https://github.com/StuAA78))
- Bump objection from 2.2.4 to 2.2.5 [\#139](https://github.com/DEFRA/sroc-charging-module-api/pull/139) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump nodemon from 2.0.6 to 2.0.7 [\#138](https://github.com/DEFRA/sroc-charging-module-api/pull/138) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump sinon from 9.2.2 to 9.2.3 [\#137](https://github.com/DEFRA/sroc-charging-module-api/pull/137) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump objection from 2.2.3 to 2.2.4 [\#136](https://github.com/DEFRA/sroc-charging-module-api/pull/136) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump knex from 0.21.14 to 0.21.15 [\#135](https://github.com/DEFRA/sroc-charging-module-api/pull/135) ([dependabot[bot]](https://github.com/apps/dependabot))
- Remove bill run number from transactions [\#133](https://github.com/DEFRA/sroc-charging-module-api/pull/133) ([Cruikshanks](https://github.com/Cruikshanks))
- Remove transactions controller [\#130](https://github.com/DEFRA/sroc-charging-module-api/pull/130) ([Cruikshanks](https://github.com/Cruikshanks))
- Refactor add bill run transaction controller [\#129](https://github.com/DEFRA/sroc-charging-module-api/pull/129) ([Cruikshanks](https://github.com/Cruikshanks))
- Add missing test coverage 4 RulesServiceTranslator [\#128](https://github.com/DEFRA/sroc-charging-module-api/pull/128) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix sucFactor from rules service not translated [\#127](https://github.com/DEFRA/sroc-charging-module-api/pull/127) ([Cruikshanks](https://github.com/Cruikshanks))
- Access rules service result from charge service [\#126](https://github.com/DEFRA/sroc-charging-module-api/pull/126) ([Cruikshanks](https://github.com/Cruikshanks))
- Update Calculate Charge Translator expect Regime slug [\#125](https://github.com/DEFRA/sroc-charging-module-api/pull/125) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump @airbrake/node from 1.4.1 to 1.4.2 [\#124](https://github.com/DEFRA/sroc-charging-module-api/pull/124) ([dependabot[bot]](https://github.com/apps/dependabot))
- Simplify auth. system creation in service [\#123](https://github.com/DEFRA/sroc-charging-module-api/pull/123) ([Cruikshanks](https://github.com/Cruikshanks))
- Update Bill Run Translator expect Auth. System Id [\#121](https://github.com/DEFRA/sroc-charging-module-api/pull/121) ([Cruikshanks](https://github.com/Cruikshanks))
- Update Bill Run Translator to expect Regime Id [\#120](https://github.com/DEFRA/sroc-charging-module-api/pull/120) ([Cruikshanks](https://github.com/Cruikshanks))
- Manage values to persist in bill run translator [\#119](https://github.com/DEFRA/sroc-charging-module-api/pull/119) ([Cruikshanks](https://github.com/Cruikshanks))
- Update Trans. Translator to expect Auth. System Id [\#118](https://github.com/DEFRA/sroc-charging-module-api/pull/118) ([Cruikshanks](https://github.com/Cruikshanks))
- Update Trans. Translator to expect Regime Id [\#117](https://github.com/DEFRA/sroc-charging-module-api/pull/117) ([Cruikshanks](https://github.com/Cruikshanks))
- Update Trans. Translator to expect bill run id [\#116](https://github.com/DEFRA/sroc-charging-module-api/pull/116) ([Cruikshanks](https://github.com/Cruikshanks))
- Add default ruleset property to Trans. translator [\#115](https://github.com/DEFRA/sroc-charging-module-api/pull/115) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix chargePeriodEnd vs periodEnd in trans. [\#113](https://github.com/DEFRA/sroc-charging-module-api/pull/113) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix chargePeriodStart vs periodStart in trans. [\#112](https://github.com/DEFRA/sroc-charging-module-api/pull/112) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix chargeFinancialYear vs financialYear in trans. [\#111](https://github.com/DEFRA/sroc-charging-module-api/pull/111) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix charge credit vs credit in transaction [\#110](https://github.com/DEFRA/sroc-charging-module-api/pull/110) ([Cruikshanks](https://github.com/Cruikshanks))
- Update transaction model relations [\#109](https://github.com/DEFRA/sroc-charging-module-api/pull/109) ([Cruikshanks](https://github.com/Cruikshanks))

## [v0.1.0](https://github.com/DEFRA/sroc-charging-module-api/tree/v0.1.0) (2020-12-20)

[Full Changelog](https://github.com/DEFRA/sroc-charging-module-api/compare/709148b3251dae9885eaac1cb8bb1eb6486546a5...v0.1.0)

**Implemented enhancements:**

- Add stop \(SIGTERM\) plugin [\#105](https://github.com/DEFRA/sroc-charging-module-api/pull/105) ([Cruikshanks](https://github.com/Cruikshanks))
- Transaction translator [\#104](https://github.com/DEFRA/sroc-charging-module-api/pull/104) ([StuAA78](https://github.com/StuAA78))
- Add --shuffle parameter to lab [\#102](https://github.com/DEFRA/sroc-charging-module-api/pull/102) ([StuAA78](https://github.com/StuAA78))
- Multi-stage docker build [\#101](https://github.com/DEFRA/sroc-charging-module-api/pull/101) ([StuAA78](https://github.com/StuAA78))
- Add alter transaction table migration [\#99](https://github.com/DEFRA/sroc-charging-module-api/pull/99) ([Cruikshanks](https://github.com/Cruikshanks))
- Override default hapi router options [\#98](https://github.com/DEFRA/sroc-charging-module-api/pull/98) ([Cruikshanks](https://github.com/Cruikshanks))
- Create Bill Run presenter [\#97](https://github.com/DEFRA/sroc-charging-module-api/pull/97) ([StuAA78](https://github.com/StuAA78))
- Add bill run number to create bill run [\#94](https://github.com/DEFRA/sroc-charging-module-api/pull/94) ([StuAA78](https://github.com/StuAA78))
- Update PostgreSQl dependence to v12 [\#93](https://github.com/DEFRA/sroc-charging-module-api/pull/93) ([Cruikshanks](https://github.com/Cruikshanks))
- Only allow 'active' authorised systems [\#92](https://github.com/DEFRA/sroc-charging-module-api/pull/92) ([Cruikshanks](https://github.com/Cruikshanks))
- Create sequence counters [\#91](https://github.com/DEFRA/sroc-charging-module-api/pull/91) ([StuAA78](https://github.com/StuAA78))
- Automatically parse DB bigints as JavaScript Ints [\#83](https://github.com/DEFRA/sroc-charging-module-api/pull/83) ([Cruikshanks](https://github.com/Cruikshanks))
- Create add transaction endpoint [\#80](https://github.com/DEFRA/sroc-charging-module-api/pull/80) ([StuAA78](https://github.com/StuAA78))
- Create transaction model [\#79](https://github.com/DEFRA/sroc-charging-module-api/pull/79) ([StuAA78](https://github.com/StuAA78))
- Add pre-sroc transaction translator [\#78](https://github.com/DEFRA/sroc-charging-module-api/pull/78) ([Cruikshanks](https://github.com/Cruikshanks))
- Add not-supported controller to project [\#75](https://github.com/DEFRA/sroc-charging-module-api/pull/75) ([Cruikshanks](https://github.com/Cruikshanks))
- Update bill runs ctrlr. to use new functionality [\#74](https://github.com/DEFRA/sroc-charging-module-api/pull/74) ([Cruikshanks](https://github.com/Cruikshanks))
- Add create bill run service [\#73](https://github.com/DEFRA/sroc-charging-module-api/pull/73) ([Cruikshanks](https://github.com/Cruikshanks))
- Add bill run table and model [\#72](https://github.com/DEFRA/sroc-charging-module-api/pull/72) ([Cruikshanks](https://github.com/Cruikshanks))
- Add pre-sroc bill run translator [\#71](https://github.com/DEFRA/sroc-charging-module-api/pull/71) ([Cruikshanks](https://github.com/Cruikshanks))
- Add database health check controller [\#69](https://github.com/DEFRA/sroc-charging-module-api/pull/69) ([Cruikshanks](https://github.com/Cruikshanks))
- Add new create authorised system endpoint [\#68](https://github.com/DEFRA/sroc-charging-module-api/pull/68) ([Cruikshanks](https://github.com/Cruikshanks))
- Add authorised systems show endpoint [\#67](https://github.com/DEFRA/sroc-charging-module-api/pull/67) ([Cruikshanks](https://github.com/Cruikshanks))
- Add authorised systems index endpoint [\#66](https://github.com/DEFRA/sroc-charging-module-api/pull/66) ([Cruikshanks](https://github.com/Cruikshanks))
- Implement regime authorisation fully [\#57](https://github.com/DEFRA/sroc-charging-module-api/pull/57) ([Cruikshanks](https://github.com/Cruikshanks))
- Add many-to-many rel. for Auth. System and Regime [\#55](https://github.com/DEFRA/sroc-charging-module-api/pull/55) ([Cruikshanks](https://github.com/Cruikshanks))
- Add new base model class [\#54](https://github.com/DEFRA/sroc-charging-module-api/pull/54) ([Cruikshanks](https://github.com/Cruikshanks))
- Add custom plugin to handle 'cleaning' payloads [\#40](https://github.com/DEFRA/sroc-charging-module-api/pull/40) ([Cruikshanks](https://github.com/Cruikshanks))
- Add SOP data validation plugin [\#37](https://github.com/DEFRA/sroc-charging-module-api/pull/37) ([Cruikshanks](https://github.com/Cruikshanks))
- SRoC calculate charge controller [\#34](https://github.com/DEFRA/sroc-charging-module-api/pull/34) ([StuAA78](https://github.com/StuAA78))
- Update calculate charge service based on recent discussion [\#32](https://github.com/DEFRA/sroc-charging-module-api/pull/32) ([StuAA78](https://github.com/StuAA78))
- Create charge to user presenter [\#30](https://github.com/DEFRA/sroc-charging-module-api/pull/30) ([StuAA78](https://github.com/StuAA78))
- Amend chargeValue and baselineCharge to be integers [\#29](https://github.com/DEFRA/sroc-charging-module-api/pull/29) ([StuAA78](https://github.com/StuAA78))
- Create rules service translator [\#27](https://github.com/DEFRA/sroc-charging-module-api/pull/27) ([StuAA78](https://github.com/StuAA78))
- Add logging plugin [\#24](https://github.com/DEFRA/sroc-charging-module-api/pull/24) ([Cruikshanks](https://github.com/Cruikshanks))
- Add Unescape sanitized HTML characters plugin [\#22](https://github.com/DEFRA/sroc-charging-module-api/pull/22) ([Cruikshanks](https://github.com/Cruikshanks))
- Create charge-to-rules service presenter [\#18](https://github.com/DEFRA/sroc-charging-module-api/pull/18) ([StuAA78](https://github.com/StuAA78))
- Create request-to-charge translator [\#14](https://github.com/DEFRA/sroc-charging-module-api/pull/14) ([StuAA78](https://github.com/StuAA78))
- Create Charge model [\#13](https://github.com/DEFRA/sroc-charging-module-api/pull/13) ([StuAA78](https://github.com/StuAA78))
- Enable JWT token expiry checking [\#12](https://github.com/DEFRA/sroc-charging-module-api/pull/12) ([Cruikshanks](https://github.com/Cruikshanks))
- Implement Calculate Charge Service [\#10](https://github.com/DEFRA/sroc-charging-module-api/pull/10) ([StuAA78](https://github.com/StuAA78))
- Implement Rules Service [\#9](https://github.com/DEFRA/sroc-charging-module-api/pull/9) ([StuAA78](https://github.com/StuAA78))
- Create authorised systems [\#7](https://github.com/DEFRA/sroc-charging-module-api/pull/7) ([StuAA78](https://github.com/StuAA78))
- Add Airbrake error logging to the project [\#6](https://github.com/DEFRA/sroc-charging-module-api/pull/6) ([Cruikshanks](https://github.com/Cruikshanks))
- Add disinfect plugin to santize inputs to the API [\#4](https://github.com/DEFRA/sroc-charging-module-api/pull/4) ([Cruikshanks](https://github.com/Cruikshanks))
- Set up CI [\#1](https://github.com/DEFRA/sroc-charging-module-api/pull/1) ([StuAA78](https://github.com/StuAA78))

**Fixed bugs:**

- Fix issue with authorised system migration scripts [\#103](https://github.com/DEFRA/sroc-charging-module-api/pull/103) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix dev dependencies in production - again! [\#96](https://github.com/DEFRA/sroc-charging-module-api/pull/96) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix reliance on dev-only dependencies in prod. [\#95](https://github.com/DEFRA/sroc-charging-module-api/pull/95) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix not handling unknown client id [\#90](https://github.com/DEFRA/sroc-charging-module-api/pull/90) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix calculate charge dependence on unknown region [\#77](https://github.com/DEFRA/sroc-charging-module-api/pull/77) ([Cruikshanks](https://github.com/Cruikshanks))
- Make docker Node friendly [\#65](https://github.com/DEFRA/sroc-charging-module-api/pull/65) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix payload plugins for arrays and boolean true [\#49](https://github.com/DEFRA/sroc-charging-module-api/pull/49) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix cleanse payload rejecting false booleans [\#46](https://github.com/DEFRA/sroc-charging-module-api/pull/46) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix airbrake controller test [\#15](https://github.com/DEFRA/sroc-charging-module-api/pull/15) ([Cruikshanks](https://github.com/Cruikshanks))

**Merged pull requests:**

- Bump knex from 0.21.13 to 0.21.14 [\#100](https://github.com/DEFRA/sroc-charging-module-api/pull/100) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump knex from 0.21.12 to 0.21.13 [\#89](https://github.com/DEFRA/sroc-charging-module-api/pull/89) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump sinon from 9.2.1 to 9.2.2 [\#88](https://github.com/DEFRA/sroc-charging-module-api/pull/88) ([dependabot[bot]](https://github.com/apps/dependabot))
- Migrate calculate charge from SROC to PRESROC [\#87](https://github.com/DEFRA/sroc-charging-module-api/pull/87) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump ini from 1.3.5 to 1.3.7 [\#86](https://github.com/DEFRA/sroc-charging-module-api/pull/86) ([dependabot[bot]](https://github.com/apps/dependabot))
- Fix sonarcloud smell - return regimes directly [\#85](https://github.com/DEFRA/sroc-charging-module-api/pull/85) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump got from 11.8.0 to 11.8.1 [\#84](https://github.com/DEFRA/sroc-charging-module-api/pull/84) ([dependabot[bot]](https://github.com/apps/dependabot))
- Make docker dev environment more distinct [\#82](https://github.com/DEFRA/sroc-charging-module-api/pull/82) ([Cruikshanks](https://github.com/Cruikshanks))
- Pre-update the transactions controllers [\#76](https://github.com/DEFRA/sroc-charging-module-api/pull/76) ([Cruikshanks](https://github.com/Cruikshanks))
- Use knex config to handle multiple environments [\#70](https://github.com/DEFRA/sroc-charging-module-api/pull/70) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump @hapi/hapi from 20.0.2 to 20.0.3 [\#64](https://github.com/DEFRA/sroc-charging-module-api/pull/64) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump blipp from 4.0.1 to 4.0.2 [\#63](https://github.com/DEFRA/sroc-charging-module-api/pull/63) ([dependabot[bot]](https://github.com/apps/dependabot))
- Start using service for regimes show endpoint [\#62](https://github.com/DEFRA/sroc-charging-module-api/pull/62) ([Cruikshanks](https://github.com/Cruikshanks))
- Start using service for regimes index endpoint [\#61](https://github.com/DEFRA/sroc-charging-module-api/pull/61) ([Cruikshanks](https://github.com/Cruikshanks))
- Implement Docker [\#60](https://github.com/DEFRA/sroc-charging-module-api/pull/60) ([StuAA78](https://github.com/StuAA78))
- Underscores in urls? Oh my! [\#59](https://github.com/DEFRA/sroc-charging-module-api/pull/59) ([Cruikshanks](https://github.com/Cruikshanks))
- Change .call\(\) to .go\(\) [\#58](https://github.com/DEFRA/sroc-charging-module-api/pull/58) ([StuAA78](https://github.com/StuAA78))
- Hide skipped tests [\#53](https://github.com/DEFRA/sroc-charging-module-api/pull/53) ([StuAA78](https://github.com/StuAA78))
- Move regimes endpoint to /admin path [\#52](https://github.com/DEFRA/sroc-charging-module-api/pull/52) ([Cruikshanks](https://github.com/Cruikshanks))
- Update seed files to use async / await pattern [\#51](https://github.com/DEFRA/sroc-charging-module-api/pull/51) ([Cruikshanks](https://github.com/Cruikshanks))
- Update authorised\_systems to use conventional id [\#50](https://github.com/DEFRA/sroc-charging-module-api/pull/50) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump pg from 8.5.0 to 8.5.1 [\#47](https://github.com/DEFRA/sroc-charging-module-api/pull/47) ([dependabot[bot]](https://github.com/apps/dependabot))
- Add back check for use of `only\(\)` in tests to CI [\#45](https://github.com/DEFRA/sroc-charging-module-api/pull/45) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump @hapi/hapi from 20.0.1 to 20.0.2 [\#44](https://github.com/DEFRA/sroc-charging-module-api/pull/44) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump pg from 8.4.2 to 8.5.0 [\#43](https://github.com/DEFRA/sroc-charging-module-api/pull/43) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump nock from 13.0.4 to 13.0.5 [\#42](https://github.com/DEFRA/sroc-charging-module-api/pull/42) ([dependabot[bot]](https://github.com/apps/dependabot))
- Switch to using GitHub Actions for CI [\#41](https://github.com/DEFRA/sroc-charging-module-api/pull/41) ([Cruikshanks](https://github.com/Cruikshanks))
- Move existing onCredentials hook to plugin [\#39](https://github.com/DEFRA/sroc-charging-module-api/pull/39) ([Cruikshanks](https://github.com/Cruikshanks))
- Move the existing onRequest hook to a plugin [\#38](https://github.com/DEFRA/sroc-charging-module-api/pull/38) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump knex from 0.21.8 to 0.21.12 [\#36](https://github.com/DEFRA/sroc-charging-module-api/pull/36) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump sinon from 9.2.0 to 9.2.1 [\#31](https://github.com/DEFRA/sroc-charging-module-api/pull/31) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump knex from 0.21.7 to 0.21.8 [\#28](https://github.com/DEFRA/sroc-charging-module-api/pull/28) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump pg from 8.4.1 to 8.4.2 [\#26](https://github.com/DEFRA/sroc-charging-module-api/pull/26) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump knex from 0.21.6 to 0.21.7 [\#25](https://github.com/DEFRA/sroc-charging-module-api/pull/25) ([dependabot[bot]](https://github.com/apps/dependabot))
- Add check for use of `only\(\)` in tests to travis [\#23](https://github.com/DEFRA/sroc-charging-module-api/pull/23) ([Cruikshanks](https://github.com/Cruikshanks))
- Fix some sonarcloud code smells [\#21](https://github.com/DEFRA/sroc-charging-module-api/pull/21) ([Cruikshanks](https://github.com/Cruikshanks))
- Housekeeping and consistency changes [\#20](https://github.com/DEFRA/sroc-charging-module-api/pull/20) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump @hapi/lab from 24.0.0 to 24.1.0 [\#19](https://github.com/DEFRA/sroc-charging-module-api/pull/19) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump got from 11.7.0 to 11.8.0 [\#17](https://github.com/DEFRA/sroc-charging-module-api/pull/17) ([dependabot[bot]](https://github.com/apps/dependabot))
- Bump nodemon from 2.0.5 to 2.0.6 [\#16](https://github.com/DEFRA/sroc-charging-module-api/pull/16) ([dependabot[bot]](https://github.com/apps/dependabot))
- Move airbrake controller to `/admin/health` [\#11](https://github.com/DEFRA/sroc-charging-module-api/pull/11) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump nodemon from 2.0.4 to 2.0.5 [\#8](https://github.com/DEFRA/sroc-charging-module-api/pull/8) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Enable  show scope option in Blipp plugin [\#5](https://github.com/DEFRA/sroc-charging-module-api/pull/5) ([Cruikshanks](https://github.com/Cruikshanks))
- Bump pg from 8.4.0 to 8.4.1 [\#3](https://github.com/DEFRA/sroc-charging-module-api/pull/3) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Remove `host` from server.config.js [\#2](https://github.com/DEFRA/sroc-charging-module-api/pull/2) ([Cruikshanks](https://github.com/Cruikshanks))



\* *This Changelog was automatically generated by [github_changelog_generator](https://github.com/github-changelog-generator/github-changelog-generator)*
